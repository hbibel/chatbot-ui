Implemented basic chat workflow.

There's a bug where AI messages appear twice in the frontend.

Also need to add user message to history.

Add tests everywhere.

Then styling.

Then document upload.
